[{"/Users/gus/Documents/work_in_progress/gusbook/client/src/index.js":"1","/Users/gus/Documents/work_in_progress/gusbook/client/src/App.js":"2","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/routes/index.js":"3","/Users/gus/Documents/work_in_progress/gusbook/client/src/pages/Home.js":"4","/Users/gus/Documents/work_in_progress/gusbook/client/src/pages/Profil.js":"5","/Users/gus/Documents/work_in_progress/gusbook/client/src/pages/Trending.js":"6","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Log/index.js":"7","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Log/SignUpForm.js":"8","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Log/SignInForm.js":"9","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/AppContext.js":"10","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/navbar.js":"11","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Log/Logout.js":"12","/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/index.js":"13","/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/user.reducer.js":"14","/Users/gus/Documents/work_in_progress/gusbook/client/src/actions/user.actions.js":"15","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/profil/UpdateProfil.js":"16","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/LeftNav.js":"17","/Users/gus/Documents/work_in_progress/gusbook/client/src/Util/functions.js":"18","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/profil/UploadImg.js":"19","/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/users.reducer.js":"20","/Users/gus/Documents/work_in_progress/gusbook/client/src/actions/users.action.js":"21","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/profil/FollowHandler.js":"22","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Thread.js":"23","/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/post.reducer.js":"24","/Users/gus/Documents/work_in_progress/gusbook/client/src/actions/post.actions.js":"25","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/Card.js":"26","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/LikeButton.js":"27","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/DeleteCard.js":"28","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/CardComments.js":"29","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/EditDeleteComment.js":"30","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/NewPostForm.js":"31","/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/error.reducer.js":"32","/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/allPosts.reducer.js":"33","/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Trends.js":"34","/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/trending.reducer.js":"35"},{"size":763,"mtime":1633596009193,"results":"36","hashOfConfig":"37"},{"size":928,"mtime":1633103573915,"results":"38","hashOfConfig":"37"},{"size":653,"mtime":1633095466027,"results":"39","hashOfConfig":"37"},{"size":851,"mtime":1633596178007,"results":"40","hashOfConfig":"37"},{"size":619,"mtime":1633107403732,"results":"41","hashOfConfig":"37"},{"size":914,"mtime":1633615051996,"results":"42","hashOfConfig":"37"},{"size":1139,"mtime":1633080537320,"results":"43","hashOfConfig":"37"},{"size":3986,"mtime":1633095329196,"results":"44","hashOfConfig":"37"},{"size":1656,"mtime":1633083833790,"results":"45","hashOfConfig":"37"},{"size":104,"mtime":1633086594408,"results":"46","hashOfConfig":"37"},{"size":1274,"mtime":1633345003454,"results":"47","hashOfConfig":"37"},{"size":647,"mtime":1633096822141,"results":"48","hashOfConfig":"37"},{"size":451,"mtime":1633607007770,"results":"49","hashOfConfig":"37"},{"size":833,"mtime":1633352893974,"results":"50","hashOfConfig":"37"},{"size":2688,"mtime":1633607001403,"results":"51","hashOfConfig":"37"},{"size":4810,"mtime":1633595171797,"results":"52","hashOfConfig":"37"},{"size":809,"mtime":1633107751634,"results":"53","hashOfConfig":"37"},{"size":982,"mtime":1633528432118,"results":"54","hashOfConfig":"37"},{"size":1001,"mtime":1633175852092,"results":"55","hashOfConfig":"37"},{"size":263,"mtime":1633181114701,"results":"56","hashOfConfig":"37"},{"size":355,"mtime":1633181208945,"results":"57","hashOfConfig":"37"},{"size":1634,"mtime":1633356911684,"results":"58","hashOfConfig":"37"},{"size":1210,"mtime":1633523837320,"results":"59","hashOfConfig":"37"},{"size":2030,"mtime":1633606987144,"results":"60","hashOfConfig":"37"},{"size":4409,"mtime":1633606676316,"results":"61","hashOfConfig":"37"},{"size":4264,"mtime":1633527110290,"results":"62","hashOfConfig":"37"},{"size":1541,"mtime":1633513680015,"results":"63","hashOfConfig":"37"},{"size":564,"mtime":1633526283848,"results":"64","hashOfConfig":"37"},{"size":2854,"mtime":1633531651222,"results":"65","hashOfConfig":"37"},{"size":2066,"mtime":1633536354425,"results":"66","hashOfConfig":"37"},{"size":5742,"mtime":1633594806644,"results":"67","hashOfConfig":"37"},{"size":526,"mtime":1633595295904,"results":"68","hashOfConfig":"37"},{"size":274,"mtime":1633595885264,"results":"69","hashOfConfig":"37"},{"size":2506,"mtime":1633613321911,"results":"70","hashOfConfig":"37"},{"size":268,"mtime":1633606829488,"results":"71","hashOfConfig":"37"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},"1l3qmyz",{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"107","messages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"109","messages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"123","messages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"125","messages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"127","messages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"129","messages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"131","messages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"133","messages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"74"},{"filePath":"136","messages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"138","messages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"140","messages":"141","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"142","messages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},"/Users/gus/Documents/work_in_progress/gusbook/client/src/index.js",[],["144","145"],"/Users/gus/Documents/work_in_progress/gusbook/client/src/App.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/routes/index.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/pages/Home.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/pages/Profil.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/pages/Trending.js",["146","147","148"],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Log/index.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Log/SignUpForm.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Log/SignInForm.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/AppContext.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/navbar.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Log/Logout.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/index.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/user.reducer.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/actions/user.actions.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/profil/UpdateProfil.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/LeftNav.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/Util/functions.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/profil/UploadImg.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/users.reducer.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/actions/users.action.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/profil/FollowHandler.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Thread.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/post.reducer.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/actions/post.actions.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/Card.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/LikeButton.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/DeleteCard.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/CardComments.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/EditDeleteComment.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Post/NewPostForm.js",["149"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { isEmpty, timestampParser } from \"../../Util/functions\";\nimport { addPost, getPosts } from \"../../actions/post.actions\";\n\nconst NewPostForm = () => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [message, setMessage] = useState(\"\");\n  const [postPicture, setPostPicture] = useState(null);\n  const [video, setVideo] = useState(\"\");\n  const [file, setFile] = useState();\n  const userData = useSelector((state) => state.userReducer);\n  const error = useSelector((state) => state.errorReducer.postError);\n  const dispatch = useDispatch();\n\n  const handlePost = async () => {\n    if (message || postPicture || video) {\n      const data = new FormData();\n      data.append(\"posterId\", userData._id);\n      data.append(\"message\", message);\n      if (file) data.append(\"file\", file);\n      data.append(\"video\", video);\n\n      await dispatch(addPost(data));\n      dispatch(getPosts());\n      cancelPost();\n    } else {\n      alert(\"Veuillez entrer un message\");\n    }\n  };\n\n  const handlePicture = (event) => {\n    console.log(event.target.files);\n    setPostPicture(URL.createObjectURL(event.target.files[0]));\n    setFile(event.target.files[0]);\n    setVideo(\"\");\n  };\n\n  const cancelPost = () => {\n    setMessage(\"\");\n    setPostPicture(null);\n    setVideo(\"\");\n    setFile();\n  };\n  const handleVideo = () => {\n    let findLink = message.split(\" \");\n\n    for (let i = 0; i < findLink.length; i++) {\n      if (\n        findLink[i].includes(\"https://www.yout\") ||\n        findLink[i].includes(\"https://yout\")\n      ) {\n        let embed = findLink[i].replace(\"watch?v=\", \"embed/\");\n        setVideo(embed.split(\"&\")[0]);\n        findLink.splice(i, 1);\n        setMessage(findLink.join(\" \"));\n        setPostPicture(\"\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!isEmpty(userData)) setIsLoading(false);\n    handleVideo();\n  }, [userData, message, video]);\n\n  return (\n    <div className=\"post-container\">\n      {isLoading ? (\n        <i className=\"fas fa-spinner fa-pulse\" />\n      ) : (\n        <>\n          <div className=\"data\">\n            <p>\n              <span>\n                {userData.followings ? userData.followings.length : 0}\n              </span>{\" \"}\n              {userData.followings && userData.followings.length > 1\n                ? \"abonnements\"\n                : \"abonnement\"}\n            </p>\n            <p>\n              {userData.followers ? userData.followers.length : 0}\n              <span>\n                {\" \"}\n                {userData.followers && userData.followers.length > 1\n                  ? \"abonnés\"\n                  : \"abonnés\"}\n              </span>\n            </p>\n          </div>\n          <NavLink exact to=\"/profil\">\n            <div className=\"user-info\">\n              <img src={userData.picture} alt=\"userPic\" />\n            </div>\n          </NavLink>\n          <div className=\"post-form\">\n            <textarea\n              name=\"message\"\n              id=\"message\"\n              placeholder=\"Quoi de neuf ?\"\n              onChange={(event) => setMessage(event.target.value)}\n              value={message}\n            />\n            {message || postPicture || video.length > 30 ? (\n              <li className=\"card-container\">\n                <div className=\"card-left\">\n                  <img src={userData.picture} alt=\"user\" />\n                </div>\n                <div className=\"card-right\">\n                  <div className=\"card-header\">\n                    <div className=\"pseudo\">\n                      <h3>{userData.pseudo}</h3>\n                    </div>\n                    <span>{timestampParser(Date.now())}</span>\n                  </div>\n                  <div className=\"content\">\n                    <p>{message}</p>\n                    {postPicture && <img src={postPicture} alt=\"\" />}\n                    {video && (\n                      <iframe\n                        title=\"video\"\n                        src={video}\n                        frameBorder=\"0\"\n                        allow=\"acceleromter; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                      ></iframe>\n                    )}\n                  </div>\n                </div>\n              </li>\n            ) : null}\n\n            <div className=\"footer-form\">\n              <div className=\"icon\">\n                {isEmpty(video) && (\n                  <>\n                    <img src=\"./img/icons/picture.svg\" alt=\"picIcon\" />\n                    <input\n                      type=\"file\"\n                      id=\"file-upload\"\n                      name=\"file\"\n                      accept=\".jpg, .jpeg, .png\"\n                      onChange={(event) => handlePicture(event)}\n                    ></input>\n                  </>\n                )}\n                {video && (\n                  <button onClick={() => setVideo(\"\")}>\n                    Supprimer la vidéo\n                  </button>\n                )}\n              </div>\n              {!isEmpty(error.format) && <p>{error.format}</p>}\n              {!isEmpty(error.maxSize) && <p>{error.maxSize}</p>}\n\n              <div className=\"btn-send\">\n                {message || postPicture || video.length > 20 ? (\n                  <button className=\"cancel\" onClick={cancelPost}>\n                    Annuler le message\n                  </button>\n                ) : null}\n                <button className=\"send\" onClick={handlePost}>\n                  Envoyer\n                </button>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default NewPostForm;\n","/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/error.reducer.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/allPosts.reducer.js",[],"/Users/gus/Documents/work_in_progress/gusbook/client/src/components/Trends.js",["150"],"/Users/gus/Documents/work_in_progress/gusbook/client/src/reducers/trending.reducer.js",[],{"ruleId":"151","replacedBy":"152"},{"ruleId":"153","replacedBy":"154"},{"ruleId":"155","severity":1,"message":"156","line":1,"column":17,"nodeType":"157","messageId":"158","endLine":1,"endColumn":26},{"ruleId":"155","severity":1,"message":"159","line":1,"column":28,"nodeType":"157","messageId":"158","endLine":1,"endColumn":36},{"ruleId":"155","severity":1,"message":"160","line":10,"column":9,"nodeType":"157","messageId":"158","endLine":10,"endColumn":12},{"ruleId":"161","severity":1,"message":"162","line":66,"column":6,"nodeType":"163","endLine":66,"endColumn":32,"suggestions":"164"},{"ruleId":"161","severity":1,"message":"165","line":22,"column":6,"nodeType":"163","endLine":22,"endColumn":13,"suggestions":"166"},"no-native-reassign",["167"],"no-negated-in-lhs",["168"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'uid' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleVideo'. Either include it or remove the dependency array.","ArrayExpression",["169"],"React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["170"],"no-global-assign","no-unsafe-negation",{"desc":"171","fix":"172"},{"desc":"173","fix":"174"},"Update the dependencies array to be: [userData, message, video, handleVideo]",{"range":"175","text":"176"},"Update the dependencies array to be: [dispatch, posts]",{"range":"177","text":"178"},[2001,2027],"[userData, message, video, handleVideo]",[802,809],"[dispatch, posts]"]