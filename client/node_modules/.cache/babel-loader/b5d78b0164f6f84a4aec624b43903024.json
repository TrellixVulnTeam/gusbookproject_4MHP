{"ast":null,"code":"import axios from\"axios\";export var GET_USER=\"GET_USER\";export var UPLOAD_PICTURE=\"UPLOAD_PICTURE\";export var UPDATE_BIO=\"UPDATE_BIO\";export var FOLLOW_USER=\"FOLLOW_USER\";export var UNFOLLOW_USER=\"UNFOLLOW_USER\";export var GET_USER_ERRORS=\"GET_USER_ERRORS\";export var getUser=function getUser(uid){return function(dispatch){return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"api/user/\").concat(uid)).then(function(res){dispatch({type:GET_USER,playload:res.data});}).catch(function(error){console.log(\"error dispatch GET_USER\"+error);});};};export var uploadPicture=function uploadPicture(data,id){return function(dispatch){return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"api/user/upload\"),data).then(function(res){if(res.data){dispatch({type:GET_USER_ERRORS,playload:res.data});}else{dispatch({type:GET_USER_ERRORS,playload:\"\"});return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"api/user/\").concat(id)).then(function(res){dispatch({type:UPLOAD_PICTURE,playload:res.data.picture});});}}).catch(function(error){return console.log(\"error dispatch\");});};};export var updateBio=function updateBio(userId,bio){return function(dispatch){return axios({method:\"PUT\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/user/\")+userId,data:{bio:bio}}).then(function(res){dispatch({type:UPDATE_BIO,playload:bio});}).catch(function(error){return console.log(error);});};};export var followUser=function followUser(followerId,idToFollow){return function(dispatch){return axios({method:\"PATCH\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/user/follow/\")+followerId,data:{idToFollow:idToFollow}}).then(function(res){console.log(\"coucou follow\");dispatch({type:\"FOLLOW_USER\",playload:{idToFollow:idToFollow}});}).catch(function(error){return console.log(error);});};};export var unFollowUser=function unFollowUser(followerId,idToUnfollow){console.log(\"idtounfollow:  \",idToUnfollow);console.log(\"followerId : \",followerId);return function(dispatch){console.log(\"coucou unfollow\");return axios({method:\"PATCH\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/user/unfollow/\")+followerId,data:{idToUnfollow:idToUnfollow}}).then(function(res){console.log(\"then unfollo\");dispatch({type:\"UNFOLLOW_USER\",playload:{idToUnfollow:idToUnfollow}});}).catch(function(error){return console.log(error);});};};","map":{"version":3,"sources":["/Users/gus/Documents/work_in_progress/gusbook/client/src/actions/user.actions.js"],"names":["axios","GET_USER","UPLOAD_PICTURE","UPDATE_BIO","FOLLOW_USER","UNFOLLOW_USER","GET_USER_ERRORS","getUser","uid","dispatch","get","process","env","REACT_APP_API_URL","then","res","type","playload","data","catch","error","console","log","uploadPicture","id","post","picture","updateBio","userId","bio","method","url","followUser","followerId","idToFollow","unFollowUser","idToUnfollow"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\nexport const GET_USER = \"GET_USER\";\nexport const UPLOAD_PICTURE = \"UPLOAD_PICTURE\";\nexport const UPDATE_BIO = \"UPDATE_BIO\";\nexport const FOLLOW_USER = \"FOLLOW_USER\";\nexport const UNFOLLOW_USER = \"UNFOLLOW_USER\";\n\nexport const GET_USER_ERRORS = \"GET_USER_ERRORS\";\n\nexport const getUser = (uid) => {\n  return (dispatch) => {\n    return axios\n      .get(`${process.env.REACT_APP_API_URL}api/user/${uid}`)\n      .then((res) => {\n        dispatch({ type: GET_USER, playload: res.data });\n      })\n      .catch((error) => {\n        console.log(\"error dispatch GET_USER\" + error);\n      });\n  };\n};\n\nexport const uploadPicture = (data, id) => {\n  return (dispatch) => {\n    return axios\n      .post(`${process.env.REACT_APP_API_URL}api/user/upload`, data)\n      .then((res) => {\n        if (res.data) {\n          dispatch({ type: GET_USER_ERRORS, playload: res.data });\n        } else {\n          dispatch({ type: GET_USER_ERRORS, playload: \"\" });\n          return axios\n            .get(`${process.env.REACT_APP_API_URL}api/user/${id}`)\n            .then((res) => {\n              dispatch({ type: UPLOAD_PICTURE, playload: res.data.picture });\n            });\n        }\n      })\n      .catch((error) => console.log(\"error dispatch\"));\n  };\n};\n\nexport const updateBio = (userId, bio) => {\n  return (dispatch) => {\n    return axios({\n      method: \"PUT\",\n      url: `${process.env.REACT_APP_API_URL}api/user/` + userId,\n      data: { bio },\n    })\n      .then((res) => {\n        dispatch({\n          type: UPDATE_BIO,\n          playload: bio,\n        });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n\nexport const followUser = (followerId, idToFollow) => {\n  return (dispatch) => {\n    return axios({\n      method: \"PATCH\",\n      url: `${process.env.REACT_APP_API_URL}api/user/follow/` + followerId,\n      data: { idToFollow },\n    })\n      .then((res) => {\n        console.log(\"coucou follow\");\n        dispatch({\n          type: \"FOLLOW_USER\",\n          playload: { idToFollow },\n        });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n\nexport const unFollowUser = (followerId, idToUnfollow) => {\n  console.log(\"idtounfollow:  \", idToUnfollow);\n  console.log(\"followerId : \", followerId);\n  return (dispatch) => {\n    console.log(\"coucou unfollow\");\n    return axios({\n      method: \"PATCH\",\n      url: `${process.env.REACT_APP_API_URL}api/user/unfollow/` + followerId,\n      data: { idToUnfollow },\n    })\n      .then((res) => {\n        console.log(\"then unfollo\");\n        dispatch({\n          type: \"UNFOLLOW_USER\",\n          playload: { idToUnfollow },\n        });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n"]},"metadata":{},"sourceType":"module"}