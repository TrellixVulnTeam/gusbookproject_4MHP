{"ast":null,"code":"import axios from\"axios\";// posts\nexport var GET_POSTS=\"GET_POSTS\";export var GET_ALL_POSTS=\"GET_ALL_POSTS\";export var ADD_POST=\"ADD_POST\";export var LIKE_POST=\"LIKE_POST\";export var UNLIKE_POST=\"UNLIKE_POST\";export var UPDATE_POST=\"UPDATE_POST\";export var DELETE_POST=\"DELETE_POST\";// comments\nexport var ADD_COMMENT=\"ADD_COMMENT\";export var EDIT_COMMENT=\"EDIT_COMMENT\";export var DELETE_COMMENT=\"DELETE_COMMENT\";//trends\nexport var GET_TRENDS=\"GET_TRENDS\";//errors\nexport var GET_POST_ERRORS=\"GET_POST_ERRORS\";export var getPosts=function getPosts(num){return function(dispatch){return axios({method:\"GET\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/post/\")}).then(function(res){var array=res.data.slice(0,num);dispatch({type:GET_POSTS,playload:array});dispatch({type:GET_ALL_POSTS,playload:res.data});}).catch(function(error){console.error(error);});};};export var addPost=function addPost(data){return function(dispatch){console.log(\"addpost action\");//return axios.post(`${process.env.REACT_APP_API_URL}api/post/`, data);\nreturn axios({method:\"POST\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/post/\"),data:data}).then(function(res){console.log(res.data);if(res.data){dispatch({type:GET_POST_ERRORS,playload:res.data});}else{dispatch({type:GET_POST_ERRORS,playload:\"\"});}});};};export var likePost=function likePost(postId,userId){return function(dispatch){return axios({method:\"PATCH\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/post/like-post/\")+postId,data:{id:userId}}).then(function(res){dispatch({type:LIKE_POST,playload:{postId:postId,userId:userId}});}).catch(function(error){return console.log(error);});};};export var UnlikePost=function UnlikePost(postId,userId){return function(dispatch){return axios({method:\"PATCH\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/post/unlike-post/\")+postId,data:{id:userId}}).then(function(res){dispatch({type:UNLIKE_POST,playload:{postId:postId,userId:userId}});}).catch(function(error){return console.log(error);});};};export var updatePost=function updatePost(postId,message){return function(dispatch){return axios({method:\"PUT\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/post/\").concat(postId),data:{message:message}}).then(function(res){dispatch({type:UPDATE_POST,playload:{message:message,postId:postId}});}).catch(function(error){return console.log(error);});};};export var deletePost=function deletePost(postId){return function(dispatch){return axios({method:\"DELETE\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/post/\").concat(postId)}).then(function(res){dispatch({type:DELETE_POST,playload:{postId:postId}});}).catch(function(error){return console.log(error);});};};// comments\nexport var addComment=function addComment(postId,commenterId,text,commenterPseudo){return function(dispatch){return axios({method:\"PATCH\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/post/comment-post/\").concat(postId),data:{commenterId:commenterId,text:text,commenterPseudo:commenterPseudo}}).then(function(res){dispatch({type:ADD_COMMENT,playload:{postId:postId}});}).catch(function(error){return console.log(error);});};};export var editComment=function editComment(postId,commentId,text){return function(dispatch){return axios({method:\"PATCH\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/post/edit-comment-post/\").concat(postId),data:{commentId:commentId,text:text}}).then(function(res){dispatch({type:EDIT_COMMENT,playload:{postId:postId,commentId:commentId,text:text}});}).catch(function(error){return console.log(error);});};};export var deleteComment=function deleteComment(postId,commentId){return function(dispatch){return axios({method:\"PATCH\",url:\"\".concat(process.env.REACT_APP_API_URL,\"api/post/delete-comment-post/\").concat(postId),data:{commentId:commentId}}).then(function(res){dispatch({type:DELETE_COMMENT,playload:{postId:postId,commentId:commentId}});}).catch(function(error){return console.log(error);});};};// trends\nexport var getTrends=function getTrends(sortedArray){return function(dispatch){dispatch({type:GET_TRENDS,playload:sortedArray});};};","map":{"version":3,"sources":["/Users/gus/Documents/work_in_progress/gusbook/client/src/actions/post.actions.js"],"names":["axios","GET_POSTS","GET_ALL_POSTS","ADD_POST","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","ADD_COMMENT","EDIT_COMMENT","DELETE_COMMENT","GET_TRENDS","GET_POST_ERRORS","getPosts","num","dispatch","method","url","process","env","REACT_APP_API_URL","then","res","array","data","slice","type","playload","catch","error","console","addPost","log","likePost","postId","userId","id","UnlikePost","updatePost","message","deletePost","addComment","commenterId","text","commenterPseudo","editComment","commentId","deleteComment","getTrends","sortedArray"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n\n// posts\n\nexport const GET_POSTS = \"GET_POSTS\";\nexport const GET_ALL_POSTS = \"GET_ALL_POSTS\";\nexport const ADD_POST = \"ADD_POST\";\n\nexport const LIKE_POST = \"LIKE_POST\";\nexport const UNLIKE_POST = \"UNLIKE_POST\";\nexport const UPDATE_POST = \"UPDATE_POST\";\nexport const DELETE_POST = \"DELETE_POST\";\n\n// comments\n\nexport const ADD_COMMENT = \"ADD_COMMENT\";\nexport const EDIT_COMMENT = \"EDIT_COMMENT\";\nexport const DELETE_COMMENT = \"DELETE_COMMENT\";\n\n//trends\n\nexport const GET_TRENDS = \"GET_TRENDS\";\n\n//errors\n\nexport const GET_POST_ERRORS = \"GET_POST_ERRORS\";\n\nexport const getPosts = (num) => {\n  return (dispatch) => {\n    return axios({\n      method: \"GET\",\n      url: `${process.env.REACT_APP_API_URL}api/post/`,\n    })\n      .then((res) => {\n        const array = res.data.slice(0, num);\n        dispatch({ type: GET_POSTS, playload: array });\n        dispatch({ type: GET_ALL_POSTS, playload: res.data });\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  };\n};\n\nexport const addPost = (data) => {\n  return (dispatch) => {\n    console.log(\"addpost action\");\n    //return axios.post(`${process.env.REACT_APP_API_URL}api/post/`, data);\n    return axios({\n      method: \"POST\",\n      url: `${process.env.REACT_APP_API_URL}api/post/`,\n      data: data,\n    }).then((res) => {\n      console.log(res.data);\n      if (res.data) {\n        dispatch({ type: GET_POST_ERRORS, playload: res.data });\n      } else {\n        dispatch({ type: GET_POST_ERRORS, playload: \"\" });\n      }\n    });\n  };\n};\n\nexport const likePost = (postId, userId) => {\n  return (dispatch) => {\n    return axios({\n      method: \"PATCH\",\n      url: `${process.env.REACT_APP_API_URL}api/post/like-post/` + postId,\n      data: { id: userId },\n    })\n      .then((res) => {\n        dispatch({ type: LIKE_POST, playload: { postId, userId } });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n\nexport const UnlikePost = (postId, userId) => {\n  return (dispatch) => {\n    return axios({\n      method: \"PATCH\",\n      url: `${process.env.REACT_APP_API_URL}api/post/unlike-post/` + postId,\n      data: { id: userId },\n    })\n      .then((res) => {\n        dispatch({ type: UNLIKE_POST, playload: { postId, userId } });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n\nexport const updatePost = (postId, message) => {\n  return (dispatch) => {\n    return axios({\n      method: \"PUT\",\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n      data: { message },\n    })\n      .then((res) => {\n        dispatch({ type: UPDATE_POST, playload: { message, postId } });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n\nexport const deletePost = (postId) => {\n  return (dispatch) => {\n    return axios({\n      method: \"DELETE\",\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n    })\n      .then((res) => {\n        dispatch({ type: DELETE_POST, playload: { postId } });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n// comments\n\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\n  return (dispatch) => {\n    return axios({\n      method: \"PATCH\",\n      url: `${process.env.REACT_APP_API_URL}api/post/comment-post/${postId}`,\n      data: { commenterId, text, commenterPseudo },\n    })\n      .then((res) => {\n        dispatch({ type: ADD_COMMENT, playload: { postId } });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n\nexport const editComment = (postId, commentId, text) => {\n  return (dispatch) => {\n    return axios({\n      method: \"PATCH\",\n      url: `${process.env.REACT_APP_API_URL}api/post/edit-comment-post/${postId}`,\n      data: { commentId, text },\n    })\n      .then((res) => {\n        dispatch({ type: EDIT_COMMENT, playload: { postId, commentId, text } });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n\nexport const deleteComment = (postId, commentId) => {\n  return (dispatch) => {\n    return axios({\n      method: \"PATCH\",\n      url: `${process.env.REACT_APP_API_URL}api/post/delete-comment-post/${postId}`,\n      data: { commentId },\n    })\n      .then((res) => {\n        dispatch({ type: DELETE_COMMENT, playload: { postId, commentId } });\n      })\n      .catch((error) => console.log(error));\n  };\n};\n\n// trends\n\nexport const getTrends = (sortedArray) => {\n  return (dispatch) => {\n    dispatch({ type: GET_TRENDS, playload: sortedArray });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}