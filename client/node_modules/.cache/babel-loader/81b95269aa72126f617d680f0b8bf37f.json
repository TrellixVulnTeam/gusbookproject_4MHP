{"ast":null,"code":"import _slicedToArray from\"/Users/gus/Documents/work_in_progress/gusbook/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{uploadPicture}from\"../../actions/user.actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UploadImg=function UploadImg(){var dispatch=useDispatch();var userData=useSelector(function(state){return state.userReducer;});var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var handlePicture=function handlePicture(event){event.preventDefault();var data=new FormData();data.append(\"name\",userData.pseudo);data.append(\"userId\",userData._id);data.append(\"file\",file);dispatch(uploadPicture(data,userData._id));};return/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:handlePicture,className:\"upload-pic\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",children:\"Changer d'image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",id:\"file\",accept:\".jpg, .jpeg, .png\",onChange:function onChange(event){return setFile(event.target.files[0]);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Envoyer\"})]});};export default UploadImg;","map":{"version":3,"sources":["/Users/gus/Documents/work_in_progress/gusbook/client/src/components/profil/UploadImg.js"],"names":["React","useState","useDispatch","useSelector","uploadPicture","UploadImg","dispatch","userData","state","userReducer","file","setFile","handlePicture","event","preventDefault","data","FormData","append","pseudo","_id","target","files"],"mappings":"uIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,aAAT,KAA8B,4BAA9B,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAMK,CAAAA,QAAQ,CAAGJ,WAAW,CAAC,SAACK,KAAD,QAAWA,CAAAA,KAAK,CAACC,WAAjB,EAAD,CAA5B,CAEA,cAAwBR,QAAQ,EAAhC,wCAAOS,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/BA,KAAK,CAACC,cAAN,GACA,GAAMC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,QAAJ,EAAb,CACAD,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoBV,QAAQ,CAACW,MAA7B,EACAH,IAAI,CAACE,MAAL,CAAY,QAAZ,CAAsBV,QAAQ,CAACY,GAA/B,EACAJ,IAAI,CAACE,MAAL,CAAY,MAAZ,CAAoBP,IAApB,EAEAJ,QAAQ,CAACF,aAAa,CAACW,IAAD,CAAOR,QAAQ,CAACY,GAAhB,CAAd,CAAR,CACD,CARD,CASA,mBACE,cAAM,MAAM,CAAC,EAAb,CAAgB,QAAQ,CAAEP,aAA1B,CAAyC,SAAS,CAAC,YAAnD,wBACE,cAAO,OAAO,CAAC,MAAf,6BADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,MAFP,CAGE,EAAE,CAAC,MAHL,CAIE,MAAM,CAAC,mBAJT,CAKE,QAAQ,CAAE,kBAACC,KAAD,QAAWF,CAAAA,OAAO,CAACE,KAAK,CAACO,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAlB,EALZ,EAFF,cASE,aATF,cAUE,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,SAA3B,EAVF,GADF,CAcD,CA7BD,CA+BA,cAAehB,CAAAA,SAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uploadPicture } from \"../../actions/user.actions\";\n\nconst UploadImg = () => {\n  const dispatch = useDispatch();\n  const userData = useSelector((state) => state.userReducer);\n\n  const [file, setFile] = useState();\n\n  const handlePicture = (event) => {\n    event.preventDefault();\n    const data = new FormData();\n    data.append(\"name\", userData.pseudo);\n    data.append(\"userId\", userData._id);\n    data.append(\"file\", file);\n\n    dispatch(uploadPicture(data, userData._id));\n  };\n  return (\n    <form action=\"\" onSubmit={handlePicture} className=\"upload-pic\">\n      <label htmlFor=\"file\">Changer d'image</label>\n      <input\n        type=\"file\"\n        name=\"file\"\n        id=\"file\"\n        accept=\".jpg, .jpeg, .png\"\n        onChange={(event) => setFile(event.target.files[0])}\n      />\n      <br />\n      <input type=\"submit\" value=\"Envoyer\" />\n    </form>\n  );\n};\n\nexport default UploadImg;\n"]},"metadata":{},"sourceType":"module"}